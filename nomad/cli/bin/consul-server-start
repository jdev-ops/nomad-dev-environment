#!/usr/bin/env bash

#consul agent \
#  -node=agent-two \
#  -bind=172.20.20.11 \
#  -enable-script-checks=true \
#  -data-dir=/tmp/consul \
#  -config-dir=/etc/consul.d

#consul agent -client=127.0.0.1 -ui -data-dir=/home/a/dockers-data/consul-data -node=agent-three -enable-script-checks=true -join=172.17.0.2 -bind=127.0.0.1
#consul agent -client=0.0.0.0 -ui -data-dir=/home/a/dockers-data/consul-data -node=agent-three -enable-script-checks=true -join=172.17.0.2 -bind=127.0.0.1
#consul agent -client=127.0.0.1 -ui -data-dir=/home/a/dockers-data/consul-data -node=agent-three -enable-script-checks=true -join=172.17.0.3 -bind=127.0.0.1

#consul agent -dev -ui -join=172.17.0.2 -bind=172.17.0.1 -bootstrap-expect=1 -node=agent-one -data-dir=/home/a/dockers-data/consul-data2 # -config-file cli/configs/consul.json &
#consul agent -server -ui -join=172.17.0.2 -bind=172.17.0.1 -bootstrap-expect=1 -node=agent-one -data-dir=/home/a/dockers-data/consul-data2 # -config-file cli/configs/consul.json &
#-node=agent-two -ui -join=172.17.0.2 -bind=172.17.0.1 -enable-script-checks=true -data-dir=/home/a/dockers-data/consul-data2 # -config-file cli/configs/consul.json &
#consul agent -data-dir /home/a/dockers-data/consul-data2 -join=172.17.0.2 -bind=172.17.0.1 -config-file cli/configs/consul.json &

docker run --rm -d -e CONSUL_BIND_INTERFACE=eth0 -v /home/a/dockers-data/consul-server:/consul/data --name=consul-dev consul:1.8.0 consul agent -server -data-dir=/consul/data -node=server-agent -join=172.16.10.65 -bootstrap-expect=1
